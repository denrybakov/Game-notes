# Холодильник

**Суть задания:** сделать сервис хранения продуктов для каждого юзера.  

**Функционал:**  
необходимо иметь возможность:  

-   добавлять продукт в холодильник;
-   редактировать **свой** продукт в холодильнике;
-   изменять категорию **своего** продукта;
-   удалять **свой** продукт из холодильника;
-   находить и смотреть продукт по названию;
-   найти все продукты определенной категории;


### R0:  Пустой холодильник
Начни с того, что у тебя должен запускаться [express-сервер](https://www.npmjs.com/package/express) и рендерить пустую страницу. Позже на этой странице будут отображаться все продукты, которые были добавлены в холодильник.


### R1:  Купи батон
Холодильник не может вечно быть пустым, реализуй возможность добавления продуктов. Для этого тебе понадобится страница с формой добавления и ручка на сервере, которая реализует запись в БД через соответствующую [модель](https://sequelize.org/master/manual/migrations.html#creating-the-first-model--and-migration-). На этом этапе уже можно сделать категории продуктов, чтобы потом к этому не возвращаться. Добавь несколько заранее подготовленных категорий например, "молочные продукты", "сладости", "овощи". Сделай возможность выбора категории при добавлении продукта.


### R2:  Что тут у нас лежит?
Открыв холодильник, становится видно продукты, лежащие в нем. Зарендери на главной странице все, что есть в холодильнике. Хотелось бы видеть на странице с продуктами не просто список, а прямоугольные блоки с картинками (можно хранить в БД просто ссылку на изображение и подставлять в `<img src="{{imageFormDatabase}}">`), названием и категорией продукта.  
**Если ты невероятно крут и хранить ссылку на картинку тебе мало, ты можешь реализовать загрузку картинок на свой сервер. Тебе могут помочь библиотеки [multer](https://github.com/expressjs/multer) или [express-fileupload](https://www.npmjs.com/package/express-fileupload) Вот рабочий [пример кода](https://github.com/richardgirges/express-fileupload/tree/master/example#basic-file-upload).


### R3:  Мама, я покушал
Продукты из холодильника можно съесть. На всех продуктах должна быть кнопка "Съесть" которая удаляет продукт из холодильника.


### R4:  Куда дальше идти? И где моя еда?!
Реализуй навигационное меню в шапке сайта. Добавь в навигационное меню форму с кнопкой, которая позволяет найти любой продукт по названию.  
** Можешь реализовать еще и поиск по категории.


### R5:  Ты кто такой, давай до свидания
Сделай так, чтобы к холодильнику имели доступ только авторизованные пользователи. Если аноним откроет холодильник, то он не увидит в нем ничего!


### R6:  Эти эклеры мои!
Кнопка "съесть" должна появляться у пользователя только на принадлежащих ему продуктах. Нельзя съесть чужую еду! Реализуй соответствующий [middleware](https://expressjs.com/ru/guide/using-middleware.html).


### R7:  А если найду?
Проверь чтобы чужие продукты были защищены от  несанкционированного съедения не только отсутствием кнопки, но и дополнительной проверкой на сервере. Особо хитрые поедатели могут съесть продукты и без кнопки, посто зная их id в базе. Сделай так чтобы чужие продукты нельзя было съесть даже по прямой ссылке или через [postman](https://www.postman.com/downloads/).


### R8*: Ночной зажор
Сделай [темную тему](https://medium.com/js-dojo/how-to-enable-dark-mode-on-your-website-with-pure-css-32640335474) и соответствующий переключатель для любителей поесть по ночам. Выбранная тема должна сохраняться даже после перезагрузки страницы. Ты можешь использовать для этого [LocalStorage](https://learn.javascript.ru/localstorage).


### R9*: Лучше никогда, чем слишком поздно
А что со сроком годности? Продукты имеют свойство портиться, даже в таком высокотехнологичном холодильнике. Добавь поле "срок годности" к каждому продукту и не выводи на странице испортившиеся продукты.


### R10: Я думал это яблоко, а оказалось - колбаса (:
Сделай возможность редактирования своих продуктов. Для этого тебе понадобится:
	- кнопка "редактировать" на продуктах;
	- мидлвер, который добавляет эту кнопку только владельцу продукта;
	- ручка, которая рендерит страницу с формой и заполняет ее данными о продукте;
	- ручка, которая принимает новую информацию о продукте и сохраняет ее в БД;
	- возможно, что-то еще :)
	

### R11: WET DRY SOLID CRUD ACID BMX REST
Все эти аббревиатуры созданы для того, чтобы запутать разработчика. Пожалуй, кроме BMX. Ты не должен пугаться этих слов, найди в интернете значение каждого из них и внимательно прочитай. Какие ты уже используешь в своем приложении? Какие еще мог бы использовать и для чего? Найди для себя ответы на эти вопросы и проверь, используешь ли ты из этого всего хотя бы REST.


### R12: Круче только горы
Если ты используешь [bootstrap](https://getbootstrap.com/) или какой-то другой [css-фреймворк](https://medium.com/@dev.studio/%D1%84%D1%80%D0%B5%D0%B9%D0%BC%D0%B2%D0%BE%D1%80%D0%BA%D0%B8-%D0%BD%D0%B0-css-2020%D0%B3-6329f9e1550c), сделай редактирование продукта в [модальном окне](https://getbootstrap.com/docs/5.1/components/modal/#examples). Работать должно без перезагрузки: нажимаем кнопку "редактировать" -> открывается модальное окно -> в нем меняем данные о продукте -> нажимаем "сохранить" -> на бэк отправляется PUT fetch -> модальное окно закрывается и продукт меняется на странице. 

**Холодильник мечты готов!**

**Совет:** Подумайте, какие сущности нужно создать в базе данных, какие понадобятся страницы для реализации этого функционала. Архитектуру приложения делайте на свое усмотрение. Рекомендую сделать приложение с чистого листа, не используя никакую "основу". При необходимости можно подглядывать в примеры кода с лекций или код заданий, которые вы делали ранее, но_ **_не копипастить код_**_, а писать все руками, вдумчиво и с вниманием к каждой детали._Как закончите, не забудьте сделать пулл-реквест!  
Удачи!
